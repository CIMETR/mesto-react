{"version":3,"sources":["images/Vector.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onClick","onCardClick","type","onCardLike","title","length","onCardDelete","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardLike","handleCardDelete","cards","avatar","about","map","Footer","ImagePopup","onClose","PopupWithForm","isOpen","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","pattern","required","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","userData","body","JSON","stringify","data","all","getInitialCards","getUserInfo","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","catch","err","console","log","Provider","i","changeLikeCardStatus","newCard","state","c","delete","filter","setUserInfoApi","cardData","addUserCard","handleUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c1febecc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.03b78ada.svg\";","import logo from '../images/Vector.svg'\r\nimport React from 'react'\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n    <img src={logo} alt=\"логотип сайта Место\" className=\"header__logo\" />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()","import React from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const isOwn = props.card.owner._id === currentUser._id\r\n  const isLiked = props.card.likes.some((item) => item._id === currentUser._id)\r\n  const cardDeleteButtonClassName = (\r\n    `card-grid__remove ${isOwn ? '' : 'card-grid__remove_disabled'}`\r\n  )\r\n  const cardLikeButtonClassName  = (\r\n    `card-grid__like ${isLiked ? 'card-grid__like_target_active' : ''}`\r\n  )\r\n\r\n\r\n\r\n  function handleCardClick() {\r\n    props.onCardClick(props.card)\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return(\r\n    <li className=\"card-grid__item\">\r\n        <img src={props.card.link} className=\"card-grid__image\" alt={props.card.name} onClick={handleCardClick}/>\r\n        <div className=\"card-grid__info\">\r\n          <h2 className=\"card-grid__title\">{props.card.name}</h2>\r\n          <div className=\"card-grid__like-container\">\r\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} title=\"Оценить фотографию\" aria-label=\"Оценить фотографию\"></button>\r\n            <span className=\"card-grid__like-count\">{props.card.likes.length}</span>\r\n          </div>\r\n        </div>\r\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n      </li>\r\n  )\r\n}\r\n\r\nexport default Card ","import React from 'react'\r\nimport Card from './Card'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, handleCardLike, handleCardDelete, cards}) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-wrap\">\r\n          <img src={currentUser.avatar} alt=\"Изображение профиля\" className=\"profile__logo\" />\r\n          <button type=\"button\" className=\"profile__avatar-edit-button\" onClick={onEditAvatar}></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-name\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button type=\"button\" className=\"profile__button profile__button_type_edit\" title=\"Редактировать профиль\"\r\n              aria-label=\"Редактировать профиль\" onClick={onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__job\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__button profile__button_type_add\" title=\"Добавить фото\"\r\n          aria-label=\"Добавить фото\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"cards-grid\">\r\n        <ul className=\"card-grid\">\r\n        {\r\n            cards.map((card) => (<Card key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            />))\r\n          }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main","import React from 'react'\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2021. Константин Антипин</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","\r\nfunction ImagePopup(props) {\r\n  \r\n  return (\r\n    <div className={`popup popup_zoom-image ${props.card ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__figure-container\">\r\n        <figure className=\"popup__figure\">\r\n          <img\r\n            src={props.card ? props.card.link : '#'}\r\n            className=\"popup__image\"\r\n            alt={props.card ? props.card.name : ''}\r\n          />\r\n          <figcaption\r\n            className=\"popup__caption\">\r\n              {props.card ? props.card.name : ''}\r\n          </figcaption>\r\n        </figure>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__esc-button popup__esc-button_zoom-image\"\r\n          onClick={props.onClose}\r\n        >\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup","function PopupWithForm(props){\r\n  return (\r\n    <div className={`popup ${props.isOpen ? 'popup_opened' : ''} `}>\r\n      <div className=\"popup__case\">\r\n        <form className=\"popup__form\"\r\n        name={props.name}\r\n        onSubmit={props.onSubmit}>\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__submit-button\">{props.buttonText}</button>\r\n        </form>\r\n        <button type=\"button\" className=\"popup__esc-button\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>)\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('')\r\n  const [description, setDescription] = React.useState('')\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name)\r\n    setDescription(currentUser.about)\r\n  }, [currentUser])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n  \r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='profile' \r\n      title='Редактировать профиль' \r\n      buttonText='Сохранить'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n      <input \r\n        name=\"name\" \r\n        type=\"text\" \r\n        className=\"popup__item popup__item_edit_name\" \r\n        id=\"sign-in-name\"\r\n        placeholder=\"Имя\" \r\n        minLength=\"2\" \r\n        maxLength=\"20\"\r\n        pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"  \r\n        required\r\n        value={name || ''}\r\n        onChange={handleNameChange} />\r\n      <span className=\"popup__input-error \" id=\"sign-in-name-error\"></span>\r\n      <input \r\n        name=\"about\" \r\n        type=\"text\" \r\n        className=\"popup__item popup__item_edit_job\" \r\n        id=\"sign-in-job\"\r\n        placeholder=\"Профессия\" \r\n        minLength=\"2\" \r\n        maxLength=\"100\" \r\n        required\r\n        value={description || ''}\r\n        onChange={handleDescriptionChange} />\r\n      <span className=\"popup__input-error \" id=\"sign-in-job-error\"></span>\r\n    </PopupWithForm>    \r\n  )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef('')\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    })\r\n    avatarRef.current.value = ''\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\" \r\n      title='Обновить аватар'\r\n      buttonText='Сохранить'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n        onSubmit={handleSubmit}>\r\n          <input \r\n            type=\"url\" \r\n            className=\"popup__item popup__item_place_avatar\" \r\n            name=\"avatar\" \r\n            id=\"avatar\" \r\n            placeholder=\"Ссылка на аватар\" \r\n            required \r\n            ref={avatarRef}/>\r\n          <span className=\"popup__input-error\" id=\"avatar-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('')\r\n  const [link, setLink] = React.useState('')\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n  \r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"card\"\r\n      title='Новое место'\r\n      buttonText='Создать'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n          <input \r\n            name=\"nameCard\" \r\n            type=\"text\" \r\n            className=\"popup__item popup__item_place_name\" \r\n            id=\"sign-in-placename\"\r\n            placeholder=\"Название места\" \r\n            minLength=\"2\" \r\n            maxLength=\"20\" \r\n            required \r\n            onChange={handleNameChange}/>\r\n          <span className=\"popup__input-error\" id=\"sign-in-placename-error\"></span>\r\n          <input \r\n            name=\"link\"  \r\n            type=\"url\" \r\n            className=\"popup__item popup__item_place_url\" \r\n            id=\"sign-in-url\"\r\n            placeholder=\"Ссылка на картинку\" \r\n            pattern=\"https://.*\" \r\n            required \r\n            onChange={handleLinkChange}/>\r\n          <span className=\"popup__input-error\" id=\"sign-in-url-error\"></span> \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","class Api {\r\n  constructor(options) {\r\n    this._url = options.url\r\n    this._headers = options.headers\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._url + '/users/me', {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this._url + '/cards', {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfoApi(userData) {\r\n    return fetch(this._url + '/users/me', {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: userData.name,\r\n        about: userData.about\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  addUserCard(data) {\r\n    return fetch(this._url + '/cards', {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return fetch(this._url + `/cards/likes/${id}`, {\r\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  delete(id) {\r\n    return fetch(this._url + `/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  handleUserAvatar(data) {\r\n    return fetch(this._url + `/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  getAllNeededData() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo()])\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-27',\r\n  headers: {\r\n    'authorization': '68b64d50-5120-47e2-bc75-6d39addfe324',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport { api }","import React from 'react'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport ImagePopup from './ImagePopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport { api } from '../utils/Api'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState(null)\n  const [cards, setCards] = React.useState([])\n  const [currentUser, setCurrentUser] = React.useState({})\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true)\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false)\n    setEditProfilePopupOpen(false)\n    setAddPlacePopupOpen(false)\n    setSelectedCard(null)\n  }\n\n  function onCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function onUpdateUser(userData) {\n    api.setUserInfoApi(userData)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n  }\n\n  function onUpdateAvatar(userData) {\n    api.handleUserAvatar(userData)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n      })\n      .catch((err) => console.log(err))\n  }\n\n  function handleCardDelete(card) {\n    api.delete(card._id)\n      .then(() => {\n        setCards(cards.filter((item) => item !== card))\n      })\n      .catch((err) => console.log(err))\n  }\n\n  function handleAddPlaceSubmit(cardData) {\n    api.addUserCard(cardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n  }\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => console.log(err))\n  }, [])\n\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .catch((err) => console.log(err))\n  }, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n\n        <Main \n        onEditAvatar={handleEditAvatarClick}\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onCardClick={onCardClick}\n        handleCardLike={handleCardLike}\n        handleCardDelete={handleCardDelete}\n        cards={cards}\n        />\n\n        <Footer />\n\n        <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups} \n        onUpdateUser={onUpdateUser}/>\n      \n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}        \n          onAddPlace={handleAddPlaceSubmit}\n        />\n        \n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n        \n        <div className=\"popup popup_confirm-delete\">\n          <div className=\"popup__case\">\n            <form className=\"popup__form\">\n              <h2 className=\"popup__title\">Вы уверены?</h2>\n              <button type=\"submit\" className=\"popup__submit-button\">Да</button>\n            </form>\n            <button className=\"popup__esc-button popup__esc-button_confirm-delete\" type=\"button\"></button>\n          </div>\n        </div>\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups} \n          onUpdateAvatar={onUpdateAvatar}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}